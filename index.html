<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æ™ºèƒ½å¯¹æ‰‹çŒœæ•°å­—</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f0f5f9;
        }

        #game-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .feedback {
            margin: 15px 0;
            padding: 10px;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .ai-response {
            background-color: #e3f2fd;
            border-left: 4px solid #2196F3;
        }

        input[type="number"] {
            padding: 8px;
            width: 120px;
            margin-right: 10px;
        }

        button {
            padding: 8px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h2>ğŸ¤– æ™ºèƒ½æ•°å­—çŒœè°œå¯¹æˆ˜</h2>
        <p>æˆ‘åœ¨æƒ³ä¸€ä¸ª1-100ä¹‹é—´çš„æ•°å­—...</p>
        <input type="number" id="guessInput" min="1" max="100">
        <button onclick="checkGuess()">æäº¤</button>
        <div id="responseArea"></div>
        <div id="history"></div>
    </div>

    <script>
        let targetNumber = Math.floor(Math.random() * 100) + 1;
        let attempts = 0;
        const difficultyLevels = {
            easy: 15,
            medium: 10,
            hard: 7
        };

        function generateResponse(guess) {
            const diff = Math.abs(targetNumber - guess);
            let response = "";
            
            // åŠ¨æ€å“åº”ç­–ç•¥
            if (diff === 0) {
                return `ğŸ‰ ä½ å±…ç„¶çŒœä¸­äº†ï¼æˆ‘åœ¨ç¬¬${attempts}æ¬¡å°±è¢«æ‰“è´¥äº†...`;
            }
            
            const responses = [
                {threshold: 3, messages: [
                    "ğŸ”¥ æ“¦è¾¹è€Œè¿‡ï¼ä½ å·²ç»éå¸¸æ¥è¿‘äº†ï¼", 
                    "ğŸ’¨ æˆ‘èƒ½æ„Ÿè§‰åˆ°æ•°å­—åœ¨é¢¤æŠ–ï¼"]},
                {threshold: 10, messages: [
                    "ğŸ‘€ æ–¹å‘å¯¹äº†ï¼Œä½†è¿˜éœ€è¦è°ƒæ•´",
                    "ğŸ•µï¸ æ¥è¿‘äº†ï¼Œä½†è¿˜ä¸æ˜¯æœ€ä½³ç­”æ¡ˆ"]},
                {threshold: 20, messages: [
                    "ğŸŒ ä½ è¿˜åœ¨å¤§æµ·æé’ˆå‘¢",
                    "ğŸ§­ éœ€è¦æ›´å¥½çš„å¯¼èˆªç³»ç»Ÿå—ï¼Ÿ"]},
                {threshold: Infinity, messages: [
                    "â„ï¸ è¿™ä¸ªçŒœæµ‹æœ‰ç‚¹å†·", 
                    "ğŸŒŒ ä½ ç¡®å®šåœ¨åŒä¸€ä¸ªæ•°å­—å®‡å®™å—ï¼Ÿ"]}
            ];

            const { messages } = responses.find(r => diff <= r.threshold);
            response = messages[Math.floor(Math.random() * messages.length)];

            // æ ¹æ®å°è¯•æ¬¡æ•°å¢åŠ å‹åŠ›
            if (attempts > difficultyLevels.medium) {
                response += attempts > difficultyLevels.hard 
                    ? " âŒ› ä½ çš„æœºä¼šä¸å¤šäº†ï¼" 
                    : " â³ æ—¶é—´æ­£åœ¨æµé€...";
            }
            
            return `${response}ï¼ˆæç¤ºï¼šå°è¯•æ›´${guess < targetNumber ? 'å¤§' : 'å°'}çš„æ•°å­—ï¼‰`;
        }

        function checkGuess() {
            const userGuess = parseInt(document.getElementById('guessInput').value);
            attempts++;
            
            if (userGuess === targetNumber) {
                endGame(true);
                return;
            }

            const response = generateResponse(userGuess);
            updateInterface(response, userGuess);
            
            if (attempts >= difficultyLevels.hard) {
                endGame(false);
            }
        }

        function updateInterface(response, guess) {
            const responseDiv = document.createElement('div');
            responseDiv.className = 'feedback ai-response';
            responseDiv.innerHTML = `ç¬¬${attempts}æ¬¡å°è¯•ï¼š${guess} â†’ ${response}`;
            document.getElementById('responseArea').prepend(responseDiv);
        }

        function endGame(success) {
            const message = success ? 
                `ğŸ‰ èƒœåˆ©ï¼ç­”æ¡ˆç¡®å®æ˜¯ ${targetNumber}` :
                `ğŸ’€ æ¸¸æˆç»“æŸï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ ${targetNumber}`;
            
            const endDiv = document.createElement('div');
            endDiv.className = `feedback ${success ? 'success' : 'danger'}`;
            endDiv.textContent = message;
            document.getElementById('responseArea').prepend(endDiv);
            
            document.getElementById('guessInput').disabled = true;
            document.querySelector('button').disabled = true;
        }
    </script>
</body>
</html>